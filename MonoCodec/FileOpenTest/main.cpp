#include <iostream>
#include <fstream>
using namespace std;

int main(){
    char outfile[] = "file.txt";  //読み込むファイルの指定
     
    ifstream fin( outfile, ios::in | ios::binary );
    //  ファイルを開く
    //  ios::in は読み込み専用  ios::binary はバイナリ形式

    
    if (!fin){
        cout << "ファイル file.txt が開けません";
        return 1;
    }
    //  ファイルが開けなかったときの対策
    
    unsigned int d;  //文字列ではないデータ
    unsigned int count = 0;
    unsigned int countW = 0;
    unsigned int countK = 0;
    unsigned int countR = 0;
    unsigned int countG = 0;
    unsigned int countB = 0;
    unsigned int countOther = 0;

//	fin.seekg(57, ios_base::beg);

	d = 0;
    while(!fin.eof()){  //ファイルの最後まで続ける
        fin.read( (char *)&d, sizeof( unsigned int ) );
		switch( d ) {
			case 0xFFFFFF00 : ++countW; break;
			case 0xFFFFFFFF : ++countW; break;
			case 0x00000000 : ++countK; if(countK == 1) cout << "K : " << count << endl; break;
//			case 0x00000000 : ++countK; break;
			case 0xFF000000 : ++countR; if(countR == 1) cout << "R : " << count << endl; break;
			case 0x00FF0000 : ++countG; if(countG == 1) cout << "G : " << count << endl; break;
			case 0x0000FF00 : ++countB; if(countB == 1) cout << "B : " << count << endl; break;
//			case 0x0000FF00 : ++countR; break;
//			case 0x00FF0000 : ++countG; break;
//			case 0xFF000000 : ++countB; break;
			default: ++countOther; break;
		}
		++count;
    }
    fin.close();  //ファイルを閉じる
    
	cout << endl;
	cout << "A : " << count << endl;
	cout << "W : " << countW << endl;
	cout << "K : " << countK << endl;
	cout << "R : " << countR << endl;
	cout << "G : " << countG << endl;
	cout << "B : " << countB << endl;
	cout << "O : " << countOther << endl;

	cout << endl;
	cout << "end" << endl;

	while(1){}

    return 0;
}





/*
#include <stdio.h>
#include <windows.h>

int main(void)
{
  FILE *fp;
  char *fname = "test02.bmp";
  unsigned char buf[1000];
  int i, j, size;
  int temp, index;

  fp = fopen( fname, "rb" );
  if( fp == NULL ){
    printf( "%sファイルが開けません¥n", fname );
    return -1;
  }


  size = fread( buf, sizeof( unsigned char ), 1000, fp );
  index = ( sizeof(BITMAPFILEHEADER) + sizeof(BITMAPINFOHEADER) );

  for( i=index; i<size; i++ ){
//    if( i % 16 == 0 ) puts( "" );
	if(buf[i] != 0xFF && buf[i] != 0x00) {
//		printf( "%d : %02X ", i, buf[i] );

		printf( "%d : ", i );
		temp = buf[i];
		for( j = 7; j >= 0; j-- ) {
			if( ( temp >> j ) & 1 == 1 ) {
				printf( "1" );
			} else {
				printf( "0" );
			}
		}
		puts( " " );
	}
  }

  fclose( fp );

  while(1) {}

  return 0;
}
*/